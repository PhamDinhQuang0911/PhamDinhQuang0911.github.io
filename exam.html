<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√†m b√†i thi - To√°n th·∫ßy Choang Choang</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- C·∫•u h√¨nh MathJax ƒë·ªÉ render c√¥ng th·ª©c To√°n -->
    <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #FFF8F0; }
        .text-orange-custom { color: #FF6A00; }
        .bg-orange-custom { background-color: #FF6A00; }
        
        /* Tr·∫°ng th√°i c√¢u h·ªèi tr√™n Palette */
        .q-btn.active { background-color: #FF6A00; color: white; border-color: #FF6A00; }
        .q-btn.answered { background-color: #E0F2FE; color: #0284C7; border-color: #38BDF8; }
        .q-btn.flagged { border-color: #EF4444; color: #EF4444; }
        
        /* ·∫®n thanh cu·ªôn */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Radio custom */
        .custom-radio:checked + div { border-color: #FF6A00; background-color: #FFF7ED; color: #C2410C; font-weight: bold; }
        .custom-radio:checked + div .check-circle { background-color: #FF6A00; border-color: #FF6A00; color: white; }
    </style>
</head>
<body class="bg-gray-50 h-screen flex flex-col overflow-hidden">

    <!-- HEADER -->
    <header class="bg-white shadow-sm z-20 shrink-0 h-16 flex items-center justify-between px-4 lg:px-8">
        <div class="flex items-center gap-4">
            <button onclick="window.history.back()" class="text-gray-400 hover:text-gray-600 transition-colors">
                <i class="fa-solid fa-arrow-left text-xl"></i>
            </button>
            <div>
                <h1 id="examTitle" class="text-lg font-bold text-gray-800 leading-tight">ƒêang t·∫£i ƒë·ªÅ thi...</h1>
                <p class="text-xs text-gray-500 hidden sm:block">M√£ ƒë·ªÅ: <span id="examId">---</span></p>
            </div>
        </div>

        <div class="flex items-center gap-4">
            <!-- ƒê·ªìng h·ªì -->
            <div class="flex items-center gap-2 bg-orange-50 px-4 py-2 rounded-full border border-orange-100 shadow-sm">
                <i class="fa-regular fa-clock text-orange-500 animate-pulse"></i>
                <span id="timer" class="font-mono font-bold text-xl text-orange-600">00:00</span>
            </div>
            <button id="submitBtnTop" class="hidden md:block px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition-all shadow-md shadow-blue-200">
                N·ªôp b√†i
            </button>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-1 flex overflow-hidden w-full max-w-7xl mx-auto">
        
        <!-- LOADING SPINNER -->
        <div id="loadingOverlay" class="absolute inset-0 bg-white z-50 flex flex-col items-center justify-center">
            <div class="w-16 h-16 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mb-4"></div>
            <p class="text-gray-500 font-medium animate-pulse">ƒêang t·∫£i d·ªØ li·ªáu ƒë·ªÅ thi...</p>
        </div>

        <!-- C·ªòT TR√ÅI: N·ªôi dung c√¢u h·ªèi -->
        <div class="flex-1 overflow-y-auto p-4 md:p-6 no-scrollbar relative" id="questionArea">
            <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 min-h-full p-6 md:p-10 relative">
                
                <!-- Header c√¢u h·ªèi -->
                <div class="flex justify-between items-start mb-6 pb-4 border-b border-gray-100">
                    <div>
                        <span class="inline-block px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-xs font-bold uppercase tracking-wider mb-1" id="questionTypeBadge">TR·∫ÆC NGHI·ªÜM</span>
                        <h2 class="text-lg font-bold text-gray-400">C√¢u h·ªèi <span id="currentQNum">1</span></h2>
                    </div>
                    <button class="text-gray-300 hover:text-red-400 transition-colors" title="ƒê√°nh d·∫•u xem l·∫°i">
                        <i class="fa-regular fa-flag text-xl"></i>
                    </button>
                </div>

                <!-- N·ªôi dung c√¢u h·ªèi -->
                <div id="questionContent" class="text-xl text-gray-800 font-medium leading-relaxed mb-8">
                    <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c render t·∫°i ƒë√¢y -->
                </div>

                <!-- Khu v·ª±c tr·∫£ l·ªùi -->
                <div id="answerOptions" class="space-y-3">
                    <!-- ƒê√°p √°n render t·∫°i ƒë√¢y -->
                </div>

                <!-- ƒêi·ªÅu h∆∞·ªõng Mobile (Sticky Bottom) -->
                <div class="md:hidden fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-4 flex justify-between z-30 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
                    <button id="prevBtnMob" class="px-4 py-2 bg-gray-100 rounded-lg font-bold text-gray-600">Tr∆∞·ªõc</button>
                    <button id="nextBtnMob" class="px-4 py-2 bg-orange-custom text-white rounded-lg font-bold shadow-md shadow-orange-200">C√¢u sau</button>
                </div>
            </div>
        </div>

        <!-- C·ªòT PH·∫¢I: Palette (·∫®n tr√™n mobile nh·ªè) -->
        <aside class="w-80 bg-white border-l border-gray-200 hidden md:flex flex-col z-10">
            <div class="p-5 border-b border-gray-100 bg-gray-50">
                <h3 class="font-bold text-gray-700">Danh s√°ch c√¢u h·ªèi</h3>
                <div class="flex gap-4 mt-2 text-xs text-gray-500">
                    <div class="flex items-center gap-1"><span class="w-3 h-3 bg-orange-custom rounded-sm"></span> ƒêang l√†m</div>
                    <div class="flex items-center gap-1"><span class="w-3 h-3 bg-blue-100 border border-blue-300 rounded-sm"></span> ƒê√£ l√†m</div>
                </div>
            </div>
            
            <div class="flex-1 overflow-y-auto p-5">
                <div class="grid grid-cols-5 gap-3" id="questionPalette">
                    <!-- C√°c n√∫t s·ªë c√¢u h·ªèi -->
                </div>
            </div>

            <div class="p-5 border-t border-gray-200">
                <button id="submitBtnSide" class="w-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-lg shadow-green-200 transition-all transform hover:-translate-y-1">
                    N·ªôp b√†i thi
                </button>
            </div>
        </aside>

        <!-- ƒêi·ªÅu h∆∞·ªõng Desktop (N·ªïi) -->
        <div class="hidden md:flex fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-white px-6 py-3 rounded-full shadow-2xl border border-gray-100 gap-4 items-center z-40">
            <button id="prevBtn" class="w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-600 transition-colors">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <span class="text-sm font-bold text-gray-500"><span id="navCurrent">1</span> / <span id="navTotal">--</span></span>
            <button id="nextBtn" class="w-10 h-10 rounded-full bg-orange-custom hover:bg-orange-600 text-white flex items-center justify-center shadow-md shadow-orange-200 transition-colors">
                <i class="fa-solid fa-chevron-right"></i>
            </button>
        </div>

    </main>

    <!-- Modal K·∫øt qu·∫£ -->
    <div id="resultModal" class="fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-70 hidden opacity-0 transition-opacity duration-300">
        <div class="bg-white rounded-[2rem] p-8 max-w-sm w-full text-center shadow-2xl transform scale-90 transition-transform duration-300" id="resultModalContent">
            <div class="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6 text-5xl shadow-inner animate-bounce">
                üèÜ
            </div>
            <h2 class="text-3xl font-extrabold text-gray-800 mb-2">Ho√†n th√†nh!</h2>
            <p class="text-gray-500 mb-8">Ch√∫c m·ª´ng b·∫°n ƒë√£ n·ªôp b√†i th√†nh c√¥ng.</p>
            
            <div class="bg-gray-50 rounded-2xl p-6 mb-8 border border-gray-100">
                <p class="text-sm text-gray-400 uppercase font-bold tracking-wide mb-1">ƒêi·ªÉm s·ªë c·ªßa b·∫°n</p>
                <div class="text-6xl font-black text-orange-custom" id="scoreDisplay">--</div>
                <div class="text-sm text-gray-500 mt-2 font-medium">S·ªë c√¢u ƒë√∫ng: <span id="correctCount">--</span>/<span id="totalCount">--</span></div>
            </div>
            
            <div class="flex gap-3">
                <button onclick="window.location.reload()" class="flex-1 py-3 rounded-xl bg-gray-100 text-gray-700 font-bold hover:bg-gray-200 transition-colors">L√†m l·∫°i</button>
                <button onclick="window.location.href='dashboard.html'" class="flex-1 py-3 rounded-xl bg-blue-600 text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-colors">V·ªÅ nh√†</button>
            </div>
        </div>
    </div>

    <!-- SCRIPT LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        // C·∫§U H√åNH FIREBASE
        const firebaseConfig = {
            apiKey: "AIzaSyCqAX3x1MbJ3do7m3EaH9JA4kFuVhlAc78",
            authDomain: "lms-thitracnghiem.firebaseapp.com",
            projectId: "lms-thitracnghiem",
            storageBucket: "lms-thitracnghiem.firebasestorage.app",
            messagingSenderId: "760187217240",
            appId: "1:760187217240:web:d043cd5808c349f87a712d"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // STATE
        let examData = null;
        let currentQuestions = [];
        let userAnswers = {}; // L∆∞u d·∫°ng { index: value }
        let currentIndex = 0;
        let timerInterval;
        let timeLeft = 0;

        // UI ELEMENTS
        const dom = {
            loading: document.getElementById('loadingOverlay'),
            title: document.getElementById('examTitle'),
            id: document.getElementById('examId'),
            timer: document.getElementById('timer'),
            content: document.getElementById('questionContent'),
            options: document.getElementById('answerOptions'),
            palette: document.getElementById('questionPalette'),
            badge: document.getElementById('questionTypeBadge'),
            currentNum: document.getElementById('currentQNum'),
            navCurrent: document.getElementById('navCurrent'),
            navTotal: document.getElementById('navTotal'),
            resultModal: document.getElementById('resultModal'),
            score: document.getElementById('scoreDisplay'),
            correct: document.getElementById('correctCount'),
            total: document.getElementById('totalCount')
        };

        // 1. INIT & LOAD
        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const examId = urlParams.get('id');

            if (!examId) {
                alert("Kh√¥ng t√¨m th·∫•y m√£ ƒë·ªÅ thi!");
                window.location.href = 'dashboard.html';
                return;
            }

            dom.id.textContent = examId;
            loadExam(examId);
        });

        async function loadExam(id) {
            try {
                const docSnap = await getDoc(doc(db, "exams", id));
                if (docSnap.exists()) {
                    examData = docSnap.data();
                    currentQuestions = examData.questions || [];
                    
                    // Setup UI
                    dom.title.textContent = examData.title;
                    timeLeft = (examData.duration || 45) * 60; // M·∫∑c ƒë·ªãnh 45p n·∫øu thi·∫øu
                    
                    if (currentQuestions.length === 0) {
                        alert("ƒê·ªÅ thi n√†y ch∆∞a c√≥ c√¢u h·ªèi n√†o!");
                        window.location.href = 'dashboard.html';
                        return;
                    }

                    // Render
                    renderPalette();
                    renderQuestion(0);
                    startTimer();
                    dom.loading.classList.add('hidden');
                    dom.navTotal.textContent = currentQuestions.length;

                } else {
                    alert("ƒê·ªÅ thi kh√¥ng t·ªìn t·∫°i ho·∫∑c ƒë√£ b·ªã x√≥a.");
                    window.location.href = 'dashboard.html';
                }
            } catch (error) {
                console.error("L·ªói t·∫£i ƒë·ªÅ:", error);
                alert("C√≥ l·ªói x·∫£y ra khi t·∫£i ƒë·ªÅ thi.");
            }
        }

        // 2. RENDER QUESTION
        function renderQuestion(index) {
            currentIndex = index;
            const q = currentQuestions[index];
            
            // C·∫≠p nh·∫≠t s·ªë th·ª© t·ª±
            dom.currentNum.textContent = index + 1;
            dom.navCurrent.textContent = index + 1;
            
            // C·∫≠p nh·∫≠t Badge lo·∫°i c√¢u h·ªèi
            const types = { 'mc': 'TR·∫ÆC NGHI·ªÜM', 'tf': 'ƒê√öNG / SAI', 'essay': 'T·ª∞ LU·∫¨N', 'short': 'TR·∫¢ L·ªúI NG·∫ÆN' };
            dom.badge.textContent = types[q.type] || 'C√ÇU H·ªéI';
            dom.badge.className = `inline-block px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider mb-1 ${q.type === 'essay' ? 'bg-purple-50 text-purple-600' : 'bg-blue-50 text-blue-600'}`;

            // Render N·ªôi dung (H·ªó tr·ª£ MathJax)
            // Thay th·∫ø xu·ªëng d√≤ng b·∫±ng <br> ƒë·ªÉ hi·ªÉn th·ªã ƒë·∫πp h∆°n
            let contentHtml = q.content.replace(/\n/g, '<br>');
            dom.content.innerHTML = contentHtml;

            // Render Options d·ª±a theo lo·∫°i
            dom.options.innerHTML = '';
            
            if (q.type === 'mc') {
                q.options.forEach((opt, i) => {
                    const isChecked = userAnswers[index] === i;
                    const div = document.createElement('label');
                    div.className = "block cursor-pointer group";
                    div.innerHTML = `
                        <input type="radio" name="q-${index}" class="hidden custom-radio" value="${i}" ${isChecked ? 'checked' : ''}>
                        <div class="flex items-center p-4 border-2 border-gray-100 rounded-xl transition-all hover:border-blue-200 group-hover:bg-blue-50">
                            <div class="check-circle w-8 h-8 rounded-full border-2 border-gray-200 flex items-center justify-center mr-4 font-bold text-gray-400 transition-colors">
                                ${String.fromCharCode(65 + i)}
                            </div>
                            <div class="flex-1 font-medium text-gray-700">${opt}</div>
                        </div>
                    `;
                    // S·ª± ki·ªán ch·ªçn
                    div.querySelector('input').addEventListener('change', () => {
                        saveAnswer(index, i);
                    });
                    dom.options.appendChild(div);
                });
            } 
            else if (q.type === 'tf') {
                // T·∫°o b·∫£ng ƒê√∫ng/Sai
                const table = document.createElement('div');
                table.className = "w-full border border-gray-200 rounded-xl overflow-hidden";
                
                let rowsHtml = `
                    <div class="grid grid-cols-12 bg-gray-50 p-3 border-b border-gray-200 text-xs font-bold text-gray-500 uppercase">
                        <div class="col-span-8">M·ªánh ƒë·ªÅ</div>
                        <div class="col-span-2 text-center text-green-600">ƒê√∫ng</div>
                        <div class="col-span-2 text-center text-red-500">Sai</div>
                    </div>
                `;
                
                q.statements.forEach((stmt, i) => {
                    // userAnswers[index] s·∫Ω l√† m·∫£ng [true, false, null, true]
                    const currentAns = userAnswers[index] || [];
                    const isTrue = currentAns[i] === true;
                    const isFalse = currentAns[i] === false;

                    rowsHtml += `
                        <div class="grid grid-cols-12 p-4 border-b border-gray-100 items-center hover:bg-gray-50">
                            <div class="col-span-8 font-medium text-gray-700">${stmt.text}</div>
                            <div class="col-span-2 text-center">
                                <input type="radio" name="q-${index}-s-${i}" class="w-5 h-5 text-green-600 cursor-pointer accent-green-600" 
                                    onchange="window.saveTFAnswer(${index}, ${i}, true)" ${isTrue ? 'checked' : ''}>
                            </div>
                            <div class="col-span-2 text-center">
                                <input type="radio" name="q-${index}-s-${i}" class="w-5 h-5 text-red-500 cursor-pointer accent-red-500" 
                                    onchange="window.saveTFAnswer(${index}, ${i}, false)" ${isFalse ? 'checked' : ''}>
                            </div>
                        </div>
                    `;
                });
                table.innerHTML = rowsHtml;
                dom.options.appendChild(table);
            }
            else if (q.type === 'short') {
                const input = document.createElement('input');
                input.type = "text";
                input.className = "w-full p-4 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:ring-0 outline-none text-lg font-bold text-gray-700 placeholder-gray-300";
                input.placeholder = "Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n...";
                input.value = userAnswers[index] || '';
                input.addEventListener('input', (e) => saveAnswer(index, e.target.value.trim()));
                dom.options.appendChild(input);
            }
            else if (q.type === 'essay') {
                const area = document.createElement('textarea');
                area.className = "w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-0 outline-none min-h-[200px] text-gray-700 resize-none";
                area.placeholder = "Nh·∫≠p b√†i l√†m t·ª± lu·∫≠n c·ªßa b·∫°n t·∫°i ƒë√¢y...";
                area.value = userAnswers[index] || '';
                area.addEventListener('input', (e) => saveAnswer(index, e.target.value));
                dom.options.appendChild(area);
            }

            // Trigger MathJax render l·∫°i c√¥ng th·ª©c
            if (window.MathJax) {
                MathJax.typesetPromise([dom.content, dom.options]).catch((err) => console.log('MathJax error:', err));
            }

            updatePalette();
        }

        // 3. LOGIC TR·∫¢ L·ªúI
        function saveAnswer(qIndex, value) {
            userAnswers[qIndex] = value;
            updatePalette();
        }

        // H√†m ri√™ng cho ƒê√∫ng/Sai (g·∫Øn v√†o window ƒë·ªÉ g·ªçi t·ª´ HTML string)
        window.saveTFAnswer = function(qIndex, stmtIndex, value) {
            if (!userAnswers[qIndex]) userAnswers[qIndex] = [];
            userAnswers[qIndex][stmtIndex] = value;
            updatePalette();
        }

        function updatePalette() {
            const btns = dom.palette.querySelectorAll('button');
            btns.forEach((btn, i) => {
                btn.className = "w-10 h-10 rounded-lg text-sm font-bold border transition-all duration-200 q-btn";
                // Active
                if (i === currentIndex) {
                    btn.classList.add('active');
                    btn.classList.add('scale-110', 'shadow-md');
                } else {
                    btn.classList.remove('active', 'scale-110', 'shadow-md');
                    // Answered
                    if (userAnswers[i] !== undefined && userAnswers[i] !== '' && userAnswers[i] !== null) {
                        // Check k·ªπ h∆°n cho TF (ph·∫£i l√†m √≠t nh·∫•t 1 √Ω)
                        if (Array.isArray(userAnswers[i]) && userAnswers[i].every(v => v === null)) {
                             btn.classList.add('bg-gray-50', 'text-gray-400', 'border-gray-200', 'hover:bg-gray-100');
                        } else {
                             btn.classList.add('answered');
                        }
                    } else {
                        btn.classList.add('bg-gray-50', 'text-gray-400', 'border-gray-200', 'hover:bg-gray-100');
                    }
                }
            });
        }

        function renderPalette() {
            dom.palette.innerHTML = '';
            currentQuestions.forEach((_, i) => {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.onclick = () => renderQuestion(i);
                dom.palette.appendChild(btn);
            });
            updatePalette();
        }

        // 4. TIMER & SUBMIT
        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishExam(true);
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const m = Math.floor(timeLeft / 60);
            const s = timeLeft % 60;
            dom.timer.textContent = `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            if(timeLeft < 300) dom.timer.classList.add('text-red-600', 'animate-pulse'); // C·∫£nh b√°o 5 ph√∫t cu·ªëi
        }

        function finishExam(auto = false) {
            if (!auto && !confirm("B·∫°n ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i?")) return;
            
            clearInterval(timerInterval);
            
            // T√≠nh ƒëi·ªÉm (S∆° b·ªô)
            let score = 0;
            let correctCount = 0;
            
            currentQuestions.forEach((q, i) => {
                const uAns = userAnswers[i];
                if (q.type === 'mc') {
                    if (uAns === q.correct) correctCount++;
                } else if (q.type === 'short') {
                    // So s√°nh chu·ªói (ƒë∆°n gi·∫£n)
                    if (uAns && q.answer && uAns.trim().toLowerCase() === q.answer.trim().toLowerCase()) correctCount++;
                } else if (q.type === 'tf') {
                    // Logic t√≠nh ƒëi·ªÉm TF ph·ª©c t·∫°p h∆°n, t·∫°m th·ªùi t√≠nh n·∫øu ƒë√∫ng h·∫øt c√°c √Ω
                    if (Array.isArray(uAns)) {
                        const allCorrect = q.statements.every((s, idx) => s.isTrue === uAns[idx]);
                        if (allCorrect) correctCount++;
                    }
                }
                // T·ª± lu·∫≠n kh√¥ng ch·∫•m t·ª± ƒë·ªông
            });

            // Hi·ªÉn th·ªã k·∫øt qu·∫£
            dom.score.textContent = (correctCount * (10 / currentQuestions.length)).toFixed(1); // Quy v·ªÅ thang 10
            dom.correct.textContent = correctCount;
            dom.total.textContent = currentQuestions.length;
            
            dom.resultModal.classList.remove('hidden');
            setTimeout(() => {
                dom.resultModal.classList.remove('opacity-0');
                document.getElementById('resultModalContent').classList.remove('scale-90');
                document.getElementById('resultModalContent').classList.add('scale-100');
            }, 10);
        }

        // NAVIGATION EVENTS
        document.getElementById('prevBtn').onclick = () => { if(currentIndex > 0) renderQuestion(currentIndex - 1); };
        document.getElementById('nextBtn').onclick = () => { if(currentIndex < currentQuestions.length - 1) renderQuestion(currentIndex + 1); };
        document.getElementById('prevBtnMob').onclick = () => { if(currentIndex > 0) renderQuestion(currentIndex - 1); };
        document.getElementById('nextBtnMob').onclick = () => { if(currentIndex < currentQuestions.length - 1) renderQuestion(currentIndex + 1); };
        
        document.getElementById('submitBtnTop').onclick = () => finishExam();
        document.getElementById('submitBtnSide').onclick = () => finishExam();

    </script>
</body>
</html>
